# 产品需求文档 (PRD)

## 1. 文档信息
| 版本 | 日期 | 修改人 | 修改描述 |
| :--- | :--- | :--- | :--- |
| v1.0 | 2026-01-31 | AI Product Manager | 初始版本创建，基于用户核心需求细化 |

### 1.2 文档目的
本文档旨在详细定义“赛博朋克风格业务数据看板生成器”的功能、性能及交互需求，为开发团队、设计团队及测试团队提供明确的工作指导。

### 1.3 相关文档引用
- [Roadmap.md](./Roadmap.md)
- [User_Story_Map.md](./User_Story_Map.md)
- [Metrics_Framework.md](./Metrics_Framework.md)

## 2. 产品概述

### 2.1 产品名称与定位
**产品名称**：赛博朋克风格业务数据看板生成器 (Cyberpunk BizBoard Gen)
**定位**：一款面向业务人员的零代码、轻量级、风格化数据大屏生成工具。

### 2.2 产品愿景与使命
让不懂代码的业务人员也能在3分钟内，将枯燥的Excel数据转化为极具视觉冲击力的赛博朋克风格大屏，用于汇报与复盘。

### 2.3 价值主张与独特卖点 (USP)
- **零代码门槛**：上传即生成，无需SQL或Python知识。
- **极致风格化**：内置赛博朋克视觉主题，解决“图表丑、配色难”的痛点。
- **单页交付**：生成的HTML单页可离线演示，解决“截图不清晰、系统需登录”的分享痛点。

### 2.4 目标平台列表
- **PC Web 浏览器** (Chrome, Edge, Safari, Firefox)
- **核心依赖框架**: Streamlit (Python Web Framework)

### 2.5 产品核心假设
- 用户持有的数据主要是结构化的 CSV/Excel 文件。
- 用户更关注“快速出图”和“视觉效果”，而非复杂的深度数据挖掘功能。
- 浏览器端能够承载数万行级别的数据处理与渲染。

## 3. 用户研究

### 3.1 目标用户画像
- **业务运营 (Anna)**: 28岁，需要每周做活动复盘，苦于Excel图表不够美观，希望快速产出能“镇住场子”的战报。
- **投放专员 (Bob)**: 25岁，每天需要看多渠道ROI，需要直观的漏斗图和对比图。
- **产品经理 (Cindy)**: 30岁，需要向老板汇报阶段性数据，希望有一个聚合的看板而非散乱的截图。

### 3.2 用户场景分析
- **场景一：活动复盘会**
  - 用户上传活动期间的订单流水CSV。
  - 系统自动识别日期和销售额，生成趋势图。
  - 用户一键导出HTML，在会议室大屏投屏演示。
- **场景二：渠道质量评估**
  - 用户上传包含“渠道来源”的Excel。
  - 筛选特定渠道，对比转化率漏斗。
  - 发现异常低转化渠道，截图发给渠道商沟通。

## 4. 市场与竞品分析

### 4.1 竞争格局
- **重型BI (Tableau, PowerBI)**: 功能强大但学习曲线陡峭，配置耗时，且默认风格偏商务/保守。
- **在线图表工具 (Echarts, Canva)**: 需要手动填数据或设计感要求高，难以处理批量数据逻辑。
- **Excel/PPT**: 最常用，但交互性差，视觉效果平庸。

### 4.2 差异化策略
- **风格差异化**: 专注于“赛博朋克/科技感”这一细分视觉风格。
- **流程极简**: 砍掉复杂的ETL和多表关联，专注于“单表分析、快速出图”。

## 5. 产品功能需求

### 5.1 功能架构
- **数据层**: Pandas 数据处理
- **逻辑层**: 自动指标识别、异常检测算法、业务规则计算
- **表现层**: Streamlit 组件、Plotly/Altair 图表库、CSS 赛博朋克样式注入

### 5.2 核心功能详述

#### 5.2.1 数据接入模块
- **功能描述**: 支持拖拽上传 CSV/Excel 文件。
- **逻辑规则**:
  - 自动识别列类型：数值型、类别型、时间型。
  - 缺失值处理：数值填0，类别填"Unknown"。
  - **验收标准**: 上传 50MB 以内文件不卡死；列类型识别准确率 > 90%。

#### 5.2.2 指标配置模块
- **功能描述**: 用户选择核心指标（KPIs）和维度。
- **逻辑规则**:
  - 支持多选核心指标。
  - **指标公式**: 支持简单的列运算（如 `GMV = 订单量 * 客单价`），支持含空格列名解析。
- **验收标准**: 公式解析器能正确处理加减乘除及括号；列名包含空格时（如 `Total Sales`）能正常识别。

#### 5.2.3 图表展示模块
- **功能描述**: 根据指标类型自动推荐图表。
- **图表类型**:
  - 趋势图（折线/面积）：展示时间序列变化。
  - 占比图（玫瑰/饼图）：展示类别构成。
  - 排名图（横向/竖向条形图）：展示Top N实体。
  - 漏斗图：展示转化流程。
- **交互要求**:
  - 维度筛选（多选）。
  - 日期范围筛选。
  - 同比/环比开关。
- **验收标准**: 切换筛选条件后图表在 1秒内 刷新；图表配色符合赛博朋克规范（霓虹色系）。

#### 5.2.4 业务描述与异常识别
- **功能描述**: 自动生成对图表的文字解读。
- **逻辑规则**:
  - **异常识别**: 基于均值 ±2 标准差标记异常点。无异常时不显示。
  - **描述模板**: "本周[指标]环比增长[X]%，主要由[维度]贡献..."。
- **验收标准**: 异常点在图表中高亮显示；描述文案通顺无逻辑错误。

#### 5.2.5 保存与导出
- **功能描述**:
  - **单图保存**: 将当前配置满意的图表“锁定”到看板区域。
  - **预览布局**: 查看最终生成的单页效果。
  - **导出**: 
    - HTML 单页（包含所有已保存图表）。
    - CSV（汇总数据、TopN数据）。
    - PNG/PDF（可选，P2优先级）。
- **验收标准**: 导出 HTML 文件在无网络环境下可正常打开并交互（缩放/悬停）。

## 6. 用户流程与交互设计

### 6.1 核心用户旅程
1. **Landing**: 看到赛博朋克风格的欢迎页 -> 拖拽上传文件。
2. **Config**: 侧边栏出现，系统自动填充初步配置 -> 用户微调指标和时间范围。
3. **Explore**: 主区域展示实时图表 -> 用户尝试不同筛选 -> 发现有价值视图 -> 点击“添加到看板”。
4. **Review**: 点击“预览看板” -> 调整图表顺序（P2） -> 确认无误。
5. **Export**: 点击“下载 HTML” -> 获得独立文件。

### 6.2 界面风格要求
- **配色**: 背景深蓝/黑 (`#0E1117`), 强调色 霓虹粉 (`#FF2B6D`), 赛博蓝 (`#00F0FF`), 激光黄 (`#FAFF00`)。
- **字体**: 类似 JetBrains Mono 或系统等宽字体，科技感。
- **组件**: 边框发光效果，半透明磨砂玻璃感。

## 7. 非功能需求
- **性能**: 支持 5万行 数据流畅操作；图表渲染延迟 < 1s。
- **兼容性**: 适配 1920x1080 及以上分辨率屏幕。
- **安全性**: 数据纯前端/内存处理，不持久化存储到服务器，刷新即焚。

## 8. 技术架构考量
- **前端/后端**: Python Streamlit (全栈式开发)。
- **数据处理**: Pandas。
- **图表库**: Plotly (交互性好，易于定制样式)。
- **导出能力**: Streamlit Download Button, Jinja2 (HTML模板生成)。

## 9. 验收标准汇总
- [ ] 成功上传 CSV 和 Excel 文件并正确解析。
- [ ] 能通过公式编辑器创建新指标（如 `Click Rate = Clicks / Impressions`）。
- [ ] 生成的 HTML 看板文件脱离环境可运行。
- [ ] 页面视觉风格统一为赛博朋克主题。
- [ ] 异常检测算法准确标记出 ±2σ 之外的点。

## 10. 产品成功指标
- **北极星指标**: **生成并导出的看板数量**。
- **辅助指标**:
  - 用户上传成功率。
  - 平均单次会话时长（预期 < 5分钟，越短越好代表效率高）。
  - 图表保存率（保存图表数 / 生成预览数）。
