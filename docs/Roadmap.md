# 产品路线图 (Roadmap)

## 1. 路线图概述
本路线图旨在规划“赛博朋克业务看板生成器”的分阶段实施路径，确保从核心价值验证（MVP）到功能完善（V1.0）再到体验升级（V2.0）的平稳过渡。

## 2. 版本规划策略
- **MVP (v0.1)**: 验证核心闭环——“数据进，图表出”。重点解决上传、基础绘图和HTML导出。
- **V1.0 (正式版)**: 补齐业务刚需——公式计算、对比分析、异常检测、TopN分析。
- **V2.0 (增强版)**: 提升体验与智能——更多导出格式、智能推荐、模板化描述。

## 3. 详细版本规划

### Phase 1: MVP (v0.1) - 核心闭环
**目标**: 实现最基础的数据可视化链路，跑通流程。
**周期**: Week 1-2
**功能清单 (P0)**:
- [x] **数据接入**: CSV/Excel 文件上传与基础解析（列名识别）。
- [x] **指标配置**: 单选/多选核心指标，选择时间列。
- [x] **图表展示**: 基础折线图（趋势）、饼图（占比）。
- [x] **看板预览**: 简单的流式布局展示。
- [x] **基础导出**: 导出包含当前视图的 HTML 文件。
- [x] **UI风格**: 基础的赛博朋克配色方案应用。

### Phase 2: V1.0 - 业务深化
**目标**: 满足真实业务分析场景，增加数据处理深度。
**周期**: Week 3-4
**功能清单 (P1)**:
- [ ] **高级数据处理**: 缺失值填充规则（0/Unknown）。
- [ ] **指标公式**: 支持列之间的加减乘除运算（含空格列名处理）。
- [ ] **多维分析**: 维度筛选（多值）、日期范围筛选。
- [ ] **高级图表**: 
    - 排名图（横向条形，TopN）。
    - 漏斗图（转化场景）。
    - 趋势图多指标双轴/多线展示。
- [ ] **对比分析**: 同比/环比增长率计算与展示。
- [ ] **异常识别**: 均值±2标准差逻辑实装，图表高亮。
- [ ] **CSV导出**: 导出处理后的汇总数据和明细数据。

### Phase 3: V2.0 - 体验升级
**目标**: 提升自动化程度和输出物的专业度。
**周期**: Week 5-6
**功能清单 (P2)**:
- [ ] **智能描述**: 基于模板自动生成图表解读文案（波动描述、结构贡献）。
- [ ] **高级导出**: PNG 图片导出、PDF 报告导出 (依赖 snapshot_selenium)。
- [ ] **图表布局**: 允许简单的拖拽排序或多列栅格布局。
- [ ] **智能推荐**: 根据选定数据类型自动切换最合适的图表类型。

## 4. 功能优先级矩阵

| 功能模块 | P0 (必须有) | P1 (应该有) | P2 (可以有) |
| :--- | :--- | :--- | :--- |
| **数据源** | CSV/Excel上传, 自动类型识别 | 缺失值填充 | 数据库连接, API接入 |
| **指标逻辑** | 基础指标选择 | 自定义公式, 复合指标 | 跨表计算 |
| **可视化** | 折线图, 饼图 | 柱状图, 漏斗图, 异常点高亮 | 桑基图, 地图, 动态图表 |
| **交互** | 侧边栏配置 | 多维筛选, 日期范围 | 图表联动, 钻取 |
| **输出** | HTML导出 | CSV明细导出 | PNG/PDF导出, 邮件发送 |
| **风格** | 基础暗黑配色 | 完整赛博朋克UI组件 | 多主题切换 |

## 5. 里程碑 (Milestones)

- **M1: 原型冻结 (End of Week 1)**
  - 完成 Streamlit 框架搭建。
  - 实现 CSV 上传与 Pandas 读取。
  - 跑通第一个折线图的展示。

- **M2: MVP 发布 (End of Week 2)**
  - 完成所有 P0 功能。
  - 内部验收：能成功生成一个包含3个图表的 HTML 页面。

- **M3: 业务功能完善 (End of Week 4)**
  - 完成所有 P1 功能。
  - 重点验收公式解析的鲁棒性和异常检测的准确性。

- **M4: 完整版发布 (End of Week 6)**
  - 完成 P2 核心功能。
  - UI/UX 精细化打磨。

## 6. 资源规划
- **开发**: 1人 (全栈 Python)
- **设计**: 0.5人 (提供配色规范和CSS片段，或由开发基于现有库实现)
- **测试**: 0.5人 (业务逻辑验证)

## 7. 风险管理
- **性能风险**: 浏览器端处理大数据量可能卡顿 -> **对策**: 限制上传文件大小(50MB)，或增加抽样模式。
- **导出兼容性**: 导出的 HTML 在不同浏览器显示不一致 -> **对策**: 使用标准 Plotly HTML 输出，减少自定义 JS 依赖。
- **依赖库安装**: 用户本地环境安装 Selenium 困难 -> **对策**: PNG/PDF 设为可选功能，优先保证 HTML 导出。
